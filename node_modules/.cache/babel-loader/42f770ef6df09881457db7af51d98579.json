{"ast":null,"code":"import axios from \"axios\";\n\nconst RemoveCredentials = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"email\");\n  window.location.href = \"/login\";\n};\n\n_c = RemoveCredentials;\nconst instance = axios.create({\n  baseURL: \"https://3442-2405-201-5509-4a9b-d833-8a11-43d1-1c0c.ngrok.io/\",\n  headers: {\n    \"Content-Type\": \"multipart/form-data\"\n  }\n});\ninstance.interceptors.request.use(function (config) {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = token ? `Bearer ${token}` : \"\";\n  return config;\n});\ninstance.interceptors.response.use(undefined, function axiosRetryInterceptor(err) {\n  if (err.response.status === 401) {\n    RemoveCredentials();\n  }\n\n  return Promise.reject(err);\n});\nexport default instance;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemoveCredentials\");","map":{"version":3,"names":["axios","RemoveCredentials","localStorage","removeItem","window","location","href","instance","create","baseURL","headers","interceptors","request","use","config","token","getItem","Authorization","response","undefined","axiosRetryInterceptor","err","status","Promise","reject"],"sources":["R:/Mindfields-Inhouse/MindEzy-COT/CMI-Report14thSept2022/src/services/AxiosOrder.js"],"sourcesContent":["import axios from \"axios\";\n\nconst RemoveCredentials = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"email\");\n  window.location.href = \"/login\";\n};\n\nconst instance = axios.create({\n  baseURL: \"https://3442-2405-201-5509-4a9b-d833-8a11-43d1-1c0c.ngrok.io/\",\n  headers: {\n    \"Content-Type\": \"multipart/form-data\",\n  },\n});\n\ninstance.interceptors.request.use(function (config) {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = token ? `Bearer ${token}` : \"\";\n  return config;\n});\n\ninstance.interceptors.response.use(\n  undefined,\n  function axiosRetryInterceptor(err) {\n    if (err.response.status === 401) {\n      RemoveCredentials();\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default instance;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;EAC9BC,YAAY,CAACC,UAAb,CAAwB,OAAxB;EACAD,YAAY,CAACC,UAAb,CAAwB,OAAxB;EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD,CAJD;;KAAML,iB;AAMN,MAAMM,QAAQ,GAAGP,KAAK,CAACQ,MAAN,CAAa;EAC5BC,OAAO,EAAE,+DADmB;EAE5BC,OAAO,EAAE;IACP,gBAAgB;EADT;AAFmB,CAAb,CAAjB;AAOAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAUC,MAAV,EAAkB;EAClD,MAAMC,KAAK,GAAGb,YAAY,CAACc,OAAb,CAAqB,OAArB,CAAd;EACAF,MAAM,CAACJ,OAAP,CAAeO,aAAf,GAA+BF,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB,EAA3D;EACA,OAAOD,MAAP;AACD,CAJD;AAMAP,QAAQ,CAACI,YAAT,CAAsBO,QAAtB,CAA+BL,GAA/B,CACEM,SADF,EAEE,SAASC,qBAAT,CAA+BC,GAA/B,EAAoC;EAClC,IAAIA,GAAG,CAACH,QAAJ,CAAaI,MAAb,KAAwB,GAA5B,EAAiC;IAC/BrB,iBAAiB;EAClB;;EACD,OAAOsB,OAAO,CAACC,MAAR,CAAeH,GAAf,CAAP;AACD,CAPH;AAUA,eAAed,QAAf"},"metadata":{},"sourceType":"module"}